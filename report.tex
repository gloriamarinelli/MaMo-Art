\documentclass[a4paper,12pt]{article}
\usepackage{graphicx}
\usepackage{lipsum} 
\usepackage{ragged2e}
\usepackage{hyperref}
\usepackage{parskip} 

\begin{document}

\begin{titlepage}
    \begingroup
    \centering
    \includegraphics[width=0.5\textwidth]{sapienza.png}\par\vspace{1cm}

    {\bfseries\large Data Management Project \par}\vspace{0.5cm}

    {\bfseries\LARGE Mamo Art Gallery \par}\vspace{1cm}

    {\small Faculty of Information Engineering, Computer Science and Statistics
        \par}\vspace{0.1cm}

    {\small
        M.Sc. Engineering in Computer Science
        \par}\vspace{10cm}

    \endgroup

    {\textbf{\small
            Presented by: \\
            Gloria Marinelli, 2054014 \\
            Mario Morra, 2156770}}\vfill

\end{titlepage}

\tableofcontents
\newpage

\section{Introduction}
\justify
The idea is a web-based application which serves as an online marketplace for the search and purchase of artworks created by a number of different artists. Potential users are afforded the opportunity to explore a variety of paintings prior to making a purchase.

The application's architectural framework consists of the following components:

\begin{itemize}
    \item A \textbf{database}, managed by MongoDB.
    \item A \textbf{backend}, constructed using Python with the Flask web framework.
    \item A \textbf{frontend}, developed using the ReactJS framework.
\end{itemize}

The entire application is based on two datasets: the \href{https://www.kaggle.com/datasets/isaienkov/edvard-munch-paintings}{Edvard Munch Paintings } dataset and the \href{https://www.kaggle.com/datasets/momanyc/museum-collection?select=artworks.csv}{Museum of Modern Art (MoMA) Collection} dataset.

The web application is structured as follows:

\begin{itemize}
    \item The \textbf{login page}
    \item the \textbf{sign up page}

    \item The \textbf{homepage}: displays all available paintings at MaMo Art gallery. Selecting a painting will display a summary of relevant information about the artwork, including the title, name, date, medium, dimensions, acquisition date, and other pertinent details. Furthermore, users have the option to purchase the selected artwork directly from this page, which will then be added to their list of orders.

    \item The \textbf{orders page}: displays all orders placed by the user, including the Order ID, the Artwork ID and the date of the order.

    \item The \textbf{artists page}:  displays all artists associated with MaMo Art Gallery. Clicking on an artist displays their biography (nationality, gender, birth year, death year) and the list of their relative paintings.

\end{itemize}

\newpage
\section{Dataset Description}
\justify

The application is built upon two datasets: the \href{https://www.kaggle.com/datasets/isaienkov/edvard-munch-paintings}{Edvard Munch Paintings } dataset and the \href{https://www.kaggle.com/datasets/momanyc/museum-collection?select=artworks.csv}{Museum of Modern Art (MoMA) Collection} dataset.


The \textbf{first} dataset includes all known paintings created by the Norwegian artist Edvard Munch. This dataset consists of 1,789 entries, each providing metadata related to Munch's paintings. The columns in the dataset are as follows:

\begin{itemize}
    \item \textbf{number}: index number of the painting
    \item \textbf{name}: title of the painting
    \item \textbf{year}: year of creation
    \item \textbf{location}: current location of the painting
    \item \textbf{status}: indicates whether the painting is lost (no image exists)
    \item \textbf{technique}: technique used in creating the painting
    \item \textbf{size}: original dimensions of the painting
    \item \textbf{filename}: image file name in the dataset
\end{itemize}


The \textbf{second} dataset is the MoMA Collection, which includes comprehensive records of artworks and artists represented in the museum. This dataset is divided into two CSV files: one containing artworks, with 218,000 records, and the other containing artists, with 67,700 records.
\begin{itemize}
    \item \textbf{artworks.csv} contains the following columns:
          \begin{itemize}
              \item \textbf{artwork id}: unique identifier for the artwork
              \item \textbf{title}: title of the artwork
              \item \textbf{artist id}: identifier for the artist
              \item \textbf{name}: name of the artist
              \item \textbf{date}: date of the artwork
              \item \textbf{medium}: material or technique used
              \item \textbf{dimensions}: physical dimensions of the artwork
              \item \textbf{acquisition date}: date when the artwork was acquired by moma
              \item \textbf{credit}: source of acquisition
              \item \textbf{catalogue}: catalogue information
              \item \textbf{department}: department within moma responsible for the artwork
              \item \textbf{classification}: artwork classification
              \item \textbf{object number}: unique identifier for the object in the museumâ€™s system
              \item \textbf{diameter (cm)}, \textbf{circumference (cm)}, \textbf{height (cm)}, \textbf{length (cm)}, \textbf{width (cm)}, \textbf{depth (cm)}, \textbf{weight (kg)}, \textbf{duration (s)}: physical measurements of the artwork, where applicable

          \end{itemize}

    \item \textbf{artists.csv} contains the following columns:
          \begin{itemize}
              \item \textbf{artist id}: unique identifier for the artist
              \item \textbf{name}: name of the artist
              \item \textbf{nationality}: nationality of the artist
              \item \textbf{gender}: gender of the artist
              \item \textbf{birth year}: year of birth
              \item \textbf{death year}: year of death (if applicable)
          \end{itemize}
\end{itemize}

\newpage
\section{Database: MongoDB}
\justify

\textbf{MongoDB} is an open-source database designed for flexibility and scalability. It stores data in documents, making it easy to handle complex data. MongoDB can handle large amounts of unstructured data and can be scaled horizontally. MongoDB also offers features like replication, high availability, and indexing for better performance. It can be scaled horizontally through sharding, which distributes data across multiple servers for better performance and reliability.


\subsection{Why use MongoDB?}
\justify
\textbf{MongoDB} is a good choice for the \textbf{MaMo Art Gallery} web app because it can handle complex data. The datasets contain different types of data, including paintings, artist details, dimensions, and acquisition history. MongoDB's \textbf{document-oriented approach} is ideal for this application. It can combine different datasets without any predefined relationships. This makes it easy to change the data model as the application changes.
MongoDB also supports quick searches and indexing, which is important for the marketplace. Users can browse, order and view order histories in real time. MongoDB can handle more artworks and users without slowing down.

\subsection{Analysis and management of data}
\justify

The \textbf{database.py} script is responsible for loading painting and artist data from CSV files into a MongoDB database. The script then processes the painting data, cleans it, removes any duplicate titles, and inserts the records into a collection titled \textit{paintings}. Furthermore, it creates collections for each artist using the \textit{update} and \textit{insert} functions to guarantee the absence of duplicates. Additionally, a dedicated function is responsible for loading Edvard Munch's paintings into both a general and a specific collection. Finally, the artist data is loaded into the \textit{artists} collection.

\subsubsection{CSV file reading and parsing}
The data pertaining to paintings and artists is extracted from CSV files $\left(\textit{paintings.csv}, \textit{edvard\_munch.csv}, \textit{artists.csv}\right)$ using the \textit{CSV} library. These files contain information on paintings and artists, and each row is processed in turn, with any unnecessary data removed.

\subsubsection{Text cleaning}
The CSV files are cleaned by removing unnecessary spaces and commas to ensure data consistency before insertion and normalization. Furthermore, any special characters in collection names are removed, such as dots at the end of artist names, to prevent any potential naming issues when creating MongoDB collections.

To avoid repetition of entries for paintings and artists within the database, the titles of paintings are stored in a set $\left(\textit{paintings\_titles}\right)$, thus simplifying the identification of duplicates during data processing.

\subsubsection{Inserting data into MongoDB}
Once the data has been cleaned and deduplicated, it is inserted into MongoDB collections. Each painting or artist is represented as a document in the database. This is achieved using the \textit{insert\_one} method, which allows for the addition of each record individually.

\subsubsection{Managing MongoDB collections for specific artists}
Paintings are inserted not only into the aggregate collection of \textit{paintings}, but also into distinct collections for specific artists using the \textit{update\_one} method. For instance, Edvard Munch's artworks are included in both the main collection and a dedicated collection for the artist, \textit{Edvard Munch}.

\subsubsection{Handling collections}
To prevent the replication of paintings during updates, the \textit{update\_one} method with the \textit{upsert=True} parameter guarantees the insertion of new paintings into the collection if they do not already exist. This is employed when associating paintings with specific artists within their respective collections.

\subsubsection{Handling duplicate checks for Edvard Munch}
A specific check is carried out to determine whether a painting by Edvard Munch is already present in one of the collections. In the case that a duplicate is identified, the insertion is cancelled.


\subsection{Sharding}
\justify

The technique of \textbf{sharding} in MongoDB is employed to distribute data across multiple servers, thereby enhancing the performance, scalability, and reliability of large-scale databases. When a dataset reaches the limits of a single server's capacity, sharding enables horizontal scaling through the partitioning of data into smaller units, termed "shards," which are then distributed across multiple servers. Each shard contains a portion of the complete dataset.

In the context of the \textbf{MaMo Art Gallery}, the implementation of sharding could prove particularly beneficial as the size of the dataset (including the large number of paintings, artist details, and user orders) increases over time. By distributing the database workload across multiple servers, sharding ensures that the application remains responsive and scalable, even when handling high volumes of data or user traffic.
\newpage
\section{API Development: Flask}
\justify

\newpage

\section{Frontend: React}
\justify

\end{document}
