
@app.route('/getNameByUsername', methods=['GET'])
def get_name_by_username():
    username = request.args.get('username')
    user_coll = db['user']

    # Check if the user exists
    query = {'username':username}
    user = user_coll.find_one(query)
    if user is None:
        return jsonify({'message':'ERROR: User not found.', 'status':404})
    
    return jsonify({'name':user['name'], 'surname':user['surname'], 'status':200})


@app.route('/deleteAccount', methods=['POST'])
def delete_account():
    data = request.get_json()
    username = data['username']
    user_coll = db['user']

    # Check if the user exists
    query = {'username':username}
    user = user_coll.find_one(query)
    if user is None:
        return jsonify({'message':'ERROR: User not found.', 'status':404})
    
       
    # Delete the user
    user_coll.delete_one(user)

    return jsonify({'message':'Account deleted.', 'status':200})